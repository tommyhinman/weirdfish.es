{% extends 'ratings/base.html' %}

{% block body %}

<h3>{{ artist.name }}</h3>

{% if itemList %}
    <ul>
    {% for item in itemList %}
        <li><a href="{% url 'ratings:viewItem' item.id %}">{{ item.name }} - ({{ item.release_date }})</a></li>
    {% endfor %}
	</ul>
{% else %}
    <p>No items available for this artist.</p>
{% endif %}


<h3>Add item</h3>
<form action="{% url 'ratings:addItem' %}" method="post">
	{% csrf_token %}
	<table>
		<tr>
			<td><label for="artist_id">Artist: </label></td>
			<td><input type="text" name="artist_id" id="artist_id" value="{{ artist.id }}" readonly /></td>
		</tr>
		<tr>
			<td><label for="item_name">Name: </label></td>
			<td><input type="text" name="item_name" id="item_name" /></td>
		</tr>
		<tr>
			<td><label for="item_type">Item Type: </label></td>
			<td><select name="item_type" id="item_type">
			{% for itemTypeKey, itemTypeVal in itemTypeList %}
				<option value="{{ itemTypeKey }}">{{ itemTypeVal }}</option>
			{% endfor %}
			</select></td>
		</tr>
		<tr>
			<td><label for="release_date">Release Date: </label></td>
			<td><input id="release_date" name="release_date" ></input></td>
		</tr>
	</table>

	<input type="submit" value="Submit" />

</form>

<script>
	$( "#release_date" ).datepicker({ dateFormat: "yy-mm-dd" });
</script>

{% endblock %}