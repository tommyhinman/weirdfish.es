{% extends 'ratings/base.html' %}

{% block extraheaders %}
  <script type="text/javascript">
    $(document).ready(
      function() { 
        $("#artists-table").tablesorter(); 
      }
    );
  </script>

{% endblock %}

{% block body %}
  <h3>Artist List</h3>

  {% if artistList %}
    <table id="artists-table" class="table table-bordered table-hover">
      <thead>
        <tr>
          <th scope="col">Artist</th>
          <th scope="col">Item Count</th>
        </tr>
      </thead>
      <tbody>
        {% for artist in artistList %}
          <tr>
            <td><a href="{% url 'ratings:viewArtist' artist.id %}">{{ artist.name }}</a></td>
            <td>{{ artist.item_count }}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p>No artists available.</p>
  {% endif %}



  <form action="{% url 'ratings:addArtist' %}" method="post" class="form-horizontal">
    {% csrf_token %}
    <legend>Add Artist</legend>
    <div class="control-group">
      <label class="control-label" for="artist_name">Name</label>
      <div class="controls">
        <input type="text" name="artist_name" id="artist_name" placeholder="Radiohead">
      </div>
    </div>
    <div class="control-group">
      <div class="controls">
        <button type="submit" class="btn">Submit</button>
      </div>
    </div>
  </form>
{% endblock %}